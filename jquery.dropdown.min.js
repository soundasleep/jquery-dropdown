/*
 * jQuery Dropdown: A simple dropdown plugin
 *
 * Contribute: https://github.com/claviska/jquery-dropdown
 *
 * @license: MIT license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(a){function b(b,e){var f=b?a(this):e,g=a(f.attr("data-jq-dropdown"));if(b){if(a(b.target).hasClass("jq-dropdown-ignore"))return;b.preventDefault(),b.stopPropagation()}else if(f!==e.target&&a(e.target).hasClass("jq-dropdown-ignore"))return;for(var h=a(b.target).parents(),i=0,j=0;j<h.length;j++){var k=a(h[j]).attr("jq-dropdown-menu-order");null!=k&&parseInt(k)>i&&(i=parseInt(k))}var l=jQuery.Event("hide",{childrenMenusOf:i});jQuery("body").trigger(l),c(l),f.hasClass("jq-dropdown-disabled")||(f.addClass("jq-dropdown-open"),f.addClass("jq-dropdown-open"),f.attr("jq-dropdown-menu-order",i+1),g.attr("jq-dropdown-menu-order",i+1).data("jq-dropdown-trigger",f).show(),d(i+1),g.trigger("show",{jqDropdown:g,trigger:f}))}function c(b){var c=b?a(b.target).parents().addBack():null,d=null;if(b.hasOwnProperty("childrenMenusOf")&&(d=b.childrenMenusOf),c&&c.is(".jq-dropdown")){if(!c.is(".jq-dropdown-menu"))return;if(!c.is("A"))return}if(null==d){var e=c.filter(".jq-dropdown-keep-parent-menu");null!=e[0]&&(d=parseInt(a(e[0]).attr("jq-dropdown-menu-order")))}var f=jQuery.Event("hide",{childrenMenusOf:d});a(document).find(".jq-dropdown:visible").each(function(){var b=a(this);(null==d||parseInt(b.attr("jq-dropdown-menu-order"))>d)&&b.hide().removeData("jq-dropdown-trigger").removeAttr("jq-dropdown-menu-order").trigger("hide",{jqDropdown:b,childrenMenusOf:d})}),f.isDefaultPrevented()||(a(document).find(".jq-dropdown:visible").each(function(){var b=a(this);(null==d||parseInt(b.attr("jq-dropdown-menu-order"))>d)&&b.hide().removeData("jq-dropdown-trigger").trigger("hide",{jqDropdown:b,childrenMenusOf:d})}),a(document).find(".jq-dropdown-open").each(function(){var b=a(this);(null==d||parseInt(b.attr("jq-dropdown-menu-order"))>d)&&b.removeAttr("jq-dropdown-menu-order").removeClass("jq-dropdown-open")}))}function d(b){var c=a("[jq-dropdown-menu-order="+b+"]").filter(".jq-dropdown"),d=c.data("jq-dropdown-trigger"),e=d?parseInt(d.attr("data-horizontal-offset")||0,10):null,f=d?parseInt(d.attr("data-vertical-offset")||0,10):null;0!==c.length&&d&&(c.hasClass("jq-dropdown-relative")?c.css({left:c.hasClass("jq-dropdown-anchor-right")?d.position().left-(c.outerWidth(!0)-d.outerWidth(!0))-parseInt(d.css("margin-right"),10)+e:d.position().left+parseInt(d.css("margin-left"),10)+e,top:d.position().top+d.outerHeight(!0)-parseInt(d.css("margin-top"),10)+f}):c.css({left:c.hasClass("jq-dropdown-anchor-right")?d.offset().left-(c.outerWidth()-d.outerWidth())+e:d.offset().left+e,top:d.offset().top+d.outerHeight()+f}))}a.extend(a.fn,{jqDropdown:function(d,e){switch(d){case"show":return b(null,a(this)),a(this);case"hide":return c(),a(this);case"attach":return a(this).attr("data-jq-dropdown",e);case"detach":return c(),a(this).removeAttr("data-jq-dropdown");case"disable":return a(this).addClass("jq-dropdown-disabled");case"enable":return c(),a(this).removeClass("jq-dropdown-disabled")}}}),a(document).on("click.jq-dropdown","[data-jq-dropdown]",b),a(document).on("click.jq-dropdown",c),a(window).on("resize",d)}(jQuery);