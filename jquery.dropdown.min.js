/*!
* jQuery dropdown: A simple dropdown plugin
* Inspired by Bootstrap: http://twitter.github.com/bootstrap/javascript.html#dropdowns
* Originally created by Cory LaViska for A Beautiful Site, LLC. (http://abeautifulsite.net/)
* Modified by Gabriel Nahmias (http://terrasoftlabs.com)
* Dual licensed under the MIT / GPL Version 2 licenses
*
*/
; if (jQuery) { (function (d) { d.extend(d.fn, { dropdown: function (f, e) { switch (f) { case "show": b(d(this), true); return d(this); case "hide": c(); return d(this); case "attach": return d(this).attr("data-dropdown", e); case "detach": c(); return d(this).removeAttr("data-dropdown"); case "disable": return d(this).addClass("dropdown-disabled"); case "enable": c(); return d(this).removeClass("dropdown-disabled") } } }); function b(h, e) { e = typeof e !== "undefined" ? e : false; var f = ((e) ? h : d(this)), i = d(f.attr("data-dropdown")), g = f.hasClass("dropdown-open"); if (e) { if (f !== object.target && d(object.target).hasClass("dropdown-ignore")) { return } } else { if (d(h.target).hasClass("dropdown-ignore")) { return } h.preventDefault(); h.stopPropagation() } c(); if (g || f.hasClass("dropdown-disabled")) { return } f.addClass("dropdown-open"); i.data("dropdown-trigger", f).show(); a(); i.trigger("show", { dropdown: i, trigger: f }) } function c(e) { var f = e ? d(e.target).parents().addBack() : null; if (f && f.is(".dropdown")) { if (f.is(".dropdown-menu")) { if (!f.is("A")) { return } } else { return } } d(document).find(".dropdown:visible").each(function () { var g = d(this); g.hide().removeData("dropdown-trigger").trigger("hide", { dropdown: g }) }); d(document).find(".dropdown-open").removeClass("dropdown-open") } function a() { var h = d(".dropdown:visible").eq(0), e = h.data("dropdown-trigger"), f = e ? parseInt(e.attr("data-horizontal-offset") || 0, 10) : null, g = e ? parseInt(e.attr("data-vertical-offset") || 0, 10) : null; if (h.length === 0 || !e) { return } if (h.hasClass("dropdown-relative")) { h.css({ left: h.hasClass("dropdown-anchor-right") ? e.position().left - (h.outerWidth(true) - e.outerWidth(true)) - parseInt(e.css("margin-right")) + f : e.position().left + parseInt(e.css("margin-left")) + f, top: e.position().top + e.outerHeight(true) - parseInt(e.css("margin-top")) + g }) } else { h.css({ left: h.hasClass("dropdown-anchor-right") ? e.offset().left - (h.outerWidth() - e.outerWidth()) + f : e.offset().left + f, top: e.offset().top + e.outerHeight() + g }) } } d(document).on("click.dropdown", "[data-dropdown]", b); d(document).on("click.dropdown", c); d(window).on("resize", a) })(jQuery) };